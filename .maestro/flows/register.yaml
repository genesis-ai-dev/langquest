appId: ${MAESTRO_APP_ID}
onFlowStart:
  - runScript: ../api.js
---
- evalScript: ${output.username = faker.internet().username()}
- evalScript: ${output.email = faker.internet().emailAddress()}
- runFlow:
    file: _launch-and-onboard.yaml
- tapOn: Create Account
- tapOn: Username
- inputText: ${output.username}-testing
- tapOn: Enter your email
- inputText: ${output.email}
- tapOn: Password
- inputText: password
- tapOn: Confirm Password
- inputText: password
- pressKey: Enter
- tapOn:
    id: checkbox # checkboxes are hard to find by maestro in LangQuest, using id
- tapOn: Register
- assertVisible: Projects
- tapOn:
    id: app-drawer-menu-button
- tapOn: Profile
- assertVisible: Profile
- evalScript: ${output.api.deleteUser(output.email)}
